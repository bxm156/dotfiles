#!/usr/bin/env bash
set -euo pipefail

# Install git hooks for the dotfiles repository
REPO_ROOT="$(chezmoi source-path)"

if [ -d "$REPO_ROOT/.git/hooks" ]; then
  # Install pre-commit hook
  if [ -f "$REPO_ROOT/hooks/pre-commit" ]; then
    cp "$REPO_ROOT/hooks/pre-commit" "$REPO_ROOT/.git/hooks/pre-commit"
    chmod +x "$REPO_ROOT/.git/hooks/pre-commit"
  fi
fi
